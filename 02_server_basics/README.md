# Node.js HTTP ‚Äî REST API –∑ folder-based –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—î—é

–¶–µ–π –ø—Ä–æ—î–∫—Ç —Ä–µ–∞–ª—ñ–∑—É—î **–º—ñ–Ω—ñ-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫** –Ω–∞ —á–∏—Å—Ç–æ–º—É Node.js –±–µ–∑ –∂–æ–¥–Ω–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π, —â–æ –ø—ñ–¥—Ç—Ä–∏–º—É—î REST API –∑ –¥–∏–Ω–∞–º—ñ—á–Ω–æ—é –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—î—é –≤ —Å—Ç–∏–ª—ñ **Next.js App Router**.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
.
‚îú‚îÄ‚îÄ lib/                          # –ë–∞–∑–æ–≤–∞ –ª–æ–≥—ñ–∫–∞: —Ä–æ—É—Ç–µ—Ä, –ø–∞—Ä—Å–∏–Ω–≥, –ø–æ–º–∏–ª–∫–∏, —É—Ç–∏–ª—ñ—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ BaseRoute.js             # –ë–∞–∑–æ–≤–∏–π –∫–ª–∞—Å –¥–ª—è –æ–±—Ä–æ–±–∫–∏ HTTP-–º–µ—Ç–æ–¥—ñ–≤ —Ç–∞ –ø–æ–º–∏–ª–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ db.js                    # –ß–∏—Ç–∞–Ω–Ω—è/–∑–∞–ø–∏—Å JSON-—Ñ–∞–π–ª—É —è–∫ "–±–∞–∑–∏ –¥–∞–Ω–∏—Ö"
‚îÇ   ‚îú‚îÄ‚îÄ errors.js                # –ö–∞—Å—Ç–æ–º–Ω—ñ –∫–ª–∞—Å–∏ –ø–æ–º–∏–ª–æ–∫ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, ValidationError)
‚îÇ   ‚îú‚îÄ‚îÄ getCurrentDateTime.js    # –ü–æ—Ç–æ—á–Ω–∞ –¥–∞—Ç–∞/—á–∞—Å —É —Ñ–æ—Ä–º–∞—Ç—ñ YYYY-MM-DD HH:mm:ss
‚îÇ   ‚îú‚îÄ‚îÄ getRoutePath.js          # –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —à–ª—è—Ö—É –¥–æ —Ñ–∞–π–ª—É –º–∞—Ä—à—Ä—É—Ç—É (–≤—Ä–∞—Ö–æ–≤—É—î [id])
‚îÇ   ‚îú‚îÄ‚îÄ isValidEmail.js          # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç—É email
‚îÇ   ‚îú‚îÄ‚îÄ newIdFromArray.js        # –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –Ω–æ–≤–æ–≥–æ ID –Ω–∞ –æ—Å–Ω–æ–≤—ñ max —É –º–∞—Å–∏–≤—ñ
‚îÇ   ‚îú‚îÄ‚îÄ parseJsonBody.js         # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π –ø–∞—Ä—Å–∏–Ω–≥ JSON-—Ç—ñ–ª–∞ –∑–∞–ø–∏—Ç—É
‚îÇ   ‚îú‚îÄ‚îÄ respond.js               # –£—Ç–∏–ª—ñ—Ç–∞ –¥–ª—è —Ñ–æ—Ä–º—É–≤–∞–Ω–Ω—è JSON-–≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
‚îÇ   ‚îî‚îÄ‚îÄ router.js                # –ì–æ–ª–æ–≤–Ω–∏–π —Ä–æ—É—Ç–µ—Ä: –≤–∏–∑–Ω–∞—á–∞—î —Ñ–∞–π–ª –æ–±—Ä–æ–±–∫–∏ –∑–∞–ø–∏—Ç—É
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îî‚îÄ‚îÄ users.model.js           # –†–æ–±–æ—Ç–∞ –∑ JSON-–±–∞–∑–æ—é: CRUD –Ω–∞–¥ —é–∑–µ—Ä–∞–º–∏
‚îú‚îÄ‚îÄ routes/                      # Folder-based –º–∞—Ä—à—Ä—É—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ route.js                 # GET / (Hello world)
‚îÇ   ‚îî‚îÄ‚îÄ users/
‚îÇ       ‚îú‚îÄ‚îÄ route.js             # GET, POST /users
‚îÇ       ‚îî‚îÄ‚îÄ [id]/
‚îÇ           ‚îî‚îÄ‚îÄ route.js         # GET, PATCH, DELETE /users/:id
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ users.service.js         # –õ–æ–≥—ñ–∫–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏/–≤–∞–ª–∏–¥–∞—Ü—ñ—ó, –æ–±—Ä–æ–±–∫–∏ –¥–∞–Ω–∏—Ö
‚îú‚îÄ‚îÄ database.json                # JSON-—Ñ–∞–π–ª –∑ —É—Å—ñ–º–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–∏–º–∏ —é–∑–µ—Ä–∞–º–∏
‚îú‚îÄ‚îÄ .env                         # –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, PORT=3000)
‚îú‚îÄ‚îÄ .env.example                 # –ü—Ä–∏–∫–ª–∞–¥ .env
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ eslint.config.js
‚îú‚îÄ‚îÄ index.js                     # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É: createServer + router
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ package-lock.json
```

---

## üß© –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- üìÅ **Folder-based routing** –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é `GET`, `POST`, `PATCH`, `DELETE`
- üÜî **–î–∏–Ω–∞–º—ñ—á–Ω—ñ —Å–µ–≥–º–µ–Ω—Ç–∏**: `/users/:id`
- üß† **–®–∞—Ä–æ–≤–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞**: `Route ‚Üí Service ‚Üí Model`
- üßæ **JSON-–±–∞–∑–∞**: –∑–∞–ø–∏—Å/–∑—á–∏—Ç—É–≤–∞–Ω–Ω—è –∑ `database.json`
- ‚ö†Ô∏è **–û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫**: `ValidationError`, `NotFoundError` ‚Üí —Å—Ç–∞—Ç—É—Å–∏ 400, 404
- üõ° **Multimethod API**: –Ω–µ–µ–∫—Å–ø–æ—Ä—Ç–æ–≤–∞–Ω–∏–π –º–µ—Ç–æ–¥ ‚Üí 405
- üîß **Zero-dep**: —Ç—ñ–ª—å–∫–∏ `http`, `fs`, `path` –∑ Node.js

---

## üóÇ –û–ø–∏—Å –æ—Å–Ω–æ–≤–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤ —É `lib/`

| –§–∞–π–ª | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|------|-------------|
| `BaseRoute.js` | –ë–∞–∑–æ–≤–∏–π –∫–ª–∞—Å –¥–ª—è –≤—Å—ñ—Ö –º–∞—Ä—à—Ä—É—Ç—ñ–≤. –ú—ñ—Å—Ç–∏—Ç—å –º–µ—Ç–æ–¥ `handle()`, —è–∫–∏–π –æ–±—Ä–æ–±–ª—è—î –º–µ—Ç–æ–¥–∏ HTTP, –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ, –ø–æ–º–∏–ª–∫–∏ —Ç–∞ —Å—Ç–∞—Ç—É—Å–∏. |
| `db.js` | –ü—Ä–æ—Å—Ç–∏–π –æ–±–≥–æ—Ä—Ç–∫–æ–≤–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è/–∑–∞–ø–∏—Å—É `database.json`. |
| `errors.js` | –û–≥–æ–ª–æ—à–µ–Ω–Ω—è —Ç–∏–ø—ñ–∑–æ–≤–∞–Ω–∏—Ö –ø–æ–º–∏–ª–æ–∫ (`ValidationError`, `NotFoundError`) –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—é —Å—Ç–∞—Ç—É—Å—ñ–≤ 400/404. |
| `getRoutePath.js` | –û–±—á–∏—Å–ª—é—î —à–ª—è—Ö –¥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ `route.js` —Ñ–∞–π–ª—É. –ü—ñ–¥—Ç—Ä–∏–º—É—î –¥–∏–Ω–∞–º—ñ—á–Ω—ñ —Å–µ–≥–º–µ–Ω—Ç–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `[id]`) —ñ fallback –¥–æ –¥–∏–Ω–∞–º—ñ—á–Ω–æ—ó –ø–∞–ø–∫–∏. |
| `getCurrentDateTime.js` | –ü–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Ç–æ—á–Ω—É –¥–∞—Ç—É/—á–∞—Å —É —Ñ–æ—Ä–º–∞—Ç—ñ `YYYY-MM-DD HH:mm:ss` –¥–ª—è `createdAt` —ñ `updatedAt`. |
| `isValidEmail.js` | –ü–µ—Ä–µ–≤—ñ—Ä—è—î, —â–æ email –º–∞—î –≤–∞–ª—ñ–¥–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç —á–µ—Ä–µ–∑ —Ä–µ–≥—É–ª—è—Ä–Ω–∏–π –≤–∏—Ä–∞–∑. |
| `newIdFromArray.js` | –û–±—á–∏—Å–ª—é—î –Ω–æ–≤–∏–π ID –Ω–∞ –æ—Å–Ω–æ–≤—ñ –Ω–∞–π–±—ñ–ª—å—à–æ–≥–æ `id` —É –º–∞—Å–∏–≤—ñ –æ–±'—î–∫—Ç—ñ–≤. |
| `parseJsonBody.js` | –ß–∏—Ç–∞—î —ñ –ø–∞—Ä—Å–∏—Ç—å JSON —Ç—ñ–ª–æ –∑–∞–ø–∏—Ç—É. –û–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ –¥–ª—è –æ–±—Ä–æ–±–∫–∏ `POST`, `PATCH` –±–µ–∑ Express. |
| `respond.js` | –í—ñ–¥–ø—Ä–∞–≤–ª—è—î HTTP-–≤—ñ–¥–ø–æ–≤—ñ–¥—å —É —Ñ–æ—Ä–º–∞—Ç—ñ JSON —ñ–∑ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–º `statusCode`. |
| `router.js` | –û—Å–Ω–æ–≤–Ω–∏–π —Ä–æ—É—Ç–µ—Ä: –≤–∏–∑–Ω–∞—á–∞—î –º–∞—Ä—à—Ä—É—Ç, –ø—ñ–¥–∫–ª—é—á–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π `route.js` —Ç–∞ –≤–∏–∫–ª–∏–∫–∞—î `handle(method)`. |

---

## üìù –í–∞–ª—ñ–¥–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

–ü—ñ–¥ —á–∞—Å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (`POST /users`) –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤—ñ –ø–æ–ª—è:

- `name` ‚Äî –±—É–¥—å-—è–∫–∏–π –Ω–µ–ø–æ—Ä–æ–∂–Ω—ñ–π —Ç–µ–∫—Å—Ç
- `email` ‚Äî –º–∞—î –ø—Ä–æ–π—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É —Ñ—É–Ω–∫—Ü—ñ—î—é `isValidEmail()`

–£ —Ä–∞–∑—ñ –≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ –∞–±–æ –Ω–µ–≤—ñ—Ä–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç—É –±—É–¥–µ –∫–∏–Ω—É—Ç–æ `ValidationError` –∑ HTTP-—Å—Ç–∞—Ç—É—Å–æ–º `400`.

